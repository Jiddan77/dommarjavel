(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(1361)}])},4034:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(5893),l=s(7294);function n(e){let{label:t,options:s,selected:n,onChange:r,presets:c=[]}=e,[o,i]=(0,l.useState)(""),d=e=>{n.includes(e)?r(n.filter(t=>t!==e)):r([...n,e])},u=s.filter(e=>e.label.toLowerCase().includes(o.toLowerCase()));return(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:t}),c.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[c.map(e=>(0,a.jsx)("button",{onClick:()=>r(e.values),className:"text-xs bg-white/10 hover:bg-white/20 rounded px-2 py-1",children:e.name},e.name)),(0,a.jsx)("button",{onClick:()=>r(s.map(e=>e.value)),className:"text-xs bg-white/10 hover:bg-white/20 rounded px-2 py-1",children:"Alla"}),(0,a.jsx)("button",{onClick:()=>r([]),className:"text-xs bg-white/10 hover:bg-white/20 rounded px-2 py-1",children:"Rensa"})]}),(0,a.jsx)("input",{type:"text",placeholder:"S\xf6k...",value:o,onChange:e=>i(e.target.value),className:"w-full mb-2 px-2 py-1 rounded bg-gray-800 text-white"}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto",children:u.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-white mb-1",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.includes(e.value),onChange:()=>d(e.value)}),(0,a.jsx)("span",{children:e.label})]},e.value))})]})}},2680:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(5893);function l(e){let{matches:t}=e;return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Matcher"}),(0,a.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-800 text-white p-4 rounded-xl shadow-md",children:[(0,a.jsxs)("div",{className:"font-semibold",children:[e.date," ",e.home," ",e.score," ",e.away]}),(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:["Domare: ",e.referee]}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-300",children:["Gula kort: ",e.yellow," | R\xf6da kort: ",e.red," | Straffar: ",e.penalty]})]},t))})]})}},4964:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(5893),l=s(7294);function n(e){let t=e.split("–").map(Number);return[t[0],t[1]]}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e.slice(0,t)}function c(e){let{allMatches:t,selectedTeams:s}=e,c=(0,l.useMemo)(()=>(function(e,t){let s={};for(let l of e){if(!l.referee)continue;let[e,r]=n(l.score),[c,o]=n(l.yellow),[i,d]=n(l.red),[u,m]=n(l.penalty);for(let n of t.length>0?t:[l.home,l.away]){var a;let t=l.home===n,h=l.away===n;if(!t&&!h)continue;let x=null!==(a=s[l.referee])&&void 0!==a?a:{referee:l.referee,matches:0,yellow:0,red:0,penalty:0,wins:0,losses:0},f=t?e:r,p=t?r:e,y=t?c:o,g=t?i:d,j=t?u:m;x.matches+=1,x.yellow+=y,x.red+=g,x.penalty+=j,f>p&&(x.wins+=1),f<p&&(x.losses+=1),s[l.referee]=x}}return Object.values(s).filter(e=>e.matches>=3)})(t,s),[t,s]),o=r([...c].sort((e,t)=>(t.yellow+t.red)/t.matches-(e.yellow+e.red)/e.matches)),i=r([...c].sort((e,t)=>(e.yellow+e.red)/e.matches-(t.yellow+t.red)/t.matches)),d=r([...c].sort((e,t)=>t.penalty/t.matches-e.penalty/e.matches)),u=r([...c].sort((e,t)=>t.wins/t.matches-e.wins/e.matches)),m=r([...c].sort((e,t)=>t.losses/t.matches-e.losses/e.matches)),h=r([...c].sort((e,t)=>(t.yellow+t.red+t.penalty)/t.matches-(e.yellow+e.red+e.penalty)/e.matches)),x=(e,t,s)=>(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e}),(0,a.jsx)("ul",{className:"space-y-1",children:t.map(e=>(0,a.jsxs)("li",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:e.referee}),(0,a.jsx)("span",{children:s(e)})]},e.referee))})]});return(0,a.jsxs)("section",{className:"mt-8 space-y-4",children:[(0,a.jsxs)("div",{children:[s.length>0?(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["Statistik f\xf6r ",1===s.length?s[0]:s.slice(0,-1).join(", ")+" och "+s.slice(-1)]}):(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Statistik f\xf6r alla matcher"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Totalt ",c.reduce((e,t)=>e+t.matches,0)," domar-matcher analyserade"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[x("\uD83D\uDC68‍⚖️ Sn\xe4llast domare",i,e=>"".concat(((e.yellow+e.red)/e.matches).toFixed(1)," kort/match")),x("\uD83D\uDD25 Elakast domare",o,e=>"".concat(((e.yellow+e.red)/e.matches).toFixed(1)," kort/match")),x("✅ B\xe4st f\xf6r valda lag",u,e=>"".concat(Math.round(e.wins/e.matches*100)," % vinst")),x("❌ S\xe4mst f\xf6r valda lag",m,e=>"".concat(Math.round(e.losses/e.matches*100)," % f\xf6rlust")),x("⚖️ Flest straffar",d,e=>"".concat((e.penalty/e.matches).toFixed(2)," per match")),x("\uD83C\uDFAF Gillar att vara i centrum",h,e=>"".concat(((e.yellow+e.red+e.penalty)/e.matches).toFixed(2)," ingripanden/match"))]})]})}},1958:function(e,t,s){"use strict";s.d(t,{U:function(){return h}});var a=s(5893),l=s(4715),n=s(723),r=s(7017),c=s(5615),o=s(1978),i=s(7024),d=s(9698),u=s(309),m=s(4678);function h(e){let{matches:t}=e,s={};for(let e of t){if(!e.date)continue;let t=(0,u.D)(e.date),a=(0,m.WU)(t,"yyyy-MM");s[a]||(s[a]={cards:0}),s[a].cards+=(e.home_cards||0)+(e.away_cards||0)}let h=Object.entries(s).map(e=>{let[t,s]=e;return{month:t,cards:s.cards}}).sort((e,t)=>e.month.localeCompare(t.month));return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 shadow hover:shadow-xl transition col-span-full",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDCC5 Totalt antal kort per m\xe5nad"}),(0,a.jsx)(l.h,{width:"100%",height:300,children:(0,a.jsxs)(n.w,{data:h,children:[(0,a.jsx)(r.q,{strokeDasharray:"3 3"}),(0,a.jsx)(c.K,{dataKey:"month",tick:{fill:"#fff"}}),(0,a.jsx)(o.Q,{tick:{fill:"#fff"}}),(0,a.jsx)(i.u,{contentStyle:{backgroundColor:"#1E3A8A",borderColor:"#4b5563",color:"#fff"},labelStyle:{color:"#FCD34D"},itemStyle:{color:"#fff"}}),(0,a.jsx)(d.x,{type:"monotone",dataKey:"cards",stroke:"#FCD34D",strokeWidth:2})]})})]})}},1361:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(5893),l=s(7294),n=s(1684),r=s(1958),c=s(4034),o=s(1525),i=s(7244),d=s(7624),u=s(4147),m=s(2113);function h(e){return e.split("–").map(Number)}function x(e){let{filteredMatches:t,selectedTeams:s}=e,l=s.length;if(0===t.length||0===l)return null;let n=0,r=0,c=0,o=0,i=0,d=0,u=0,m=0,x=0,p=0;for(let e of t){let[t,a]=e.score.split("–").map(Number),[l,f]=h(e.yellow),[y,g]=h(e.red),[j,w]=h(e.penalty);for(let h of s){let s=e.home===h,b=e.away===h;if(!s&&!b)continue;n+=1;let v=s?t:a,N=s?a:t,D=s?l:f,C=s?y:g,k=s?j:w;v>N?r++:v===N?c++:o++,i+=D,d+=C,u+=k,D>0&&m++,C>0&&x++,k>0&&p++}}let y=e=>n>0?"".concat(Math.round(e/n*100)," %"):"–";return(0,a.jsxs)("section",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsx)(f,{title:"⚔️ Matcher",value:n.toString()}),(0,a.jsx)(f,{title:"\uD83C\uDFC6 Vinst–Oavgjort–F\xf6rlust",value:"".concat(r,"–").concat(c,"–").concat(o," (").concat(y(r),")")}),(0,a.jsx)(f,{title:"\uD83D\uDFE8 Gula kort (snitt)",value:"".concat((i/n).toFixed(2)," / match"),sub:"Sannolikhet: ".concat(y(m))}),(0,a.jsx)(f,{title:"\uD83D\uDFE5 R\xf6da kort (snitt)",value:"".concat((d/n).toFixed(2)," / match"),sub:"Sannolikhet: ".concat(y(x))}),(0,a.jsx)(f,{title:"⚖️ Straffar (snitt)",value:"".concat((u/n).toFixed(2)," / match"),sub:"Sannolikhet: ".concat(y(p))})]})}function f(e){let{title:t,value:s,sub:l}=e;return(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-sm text-gray-400",children:t}),(0,a.jsx)("p",{className:"text-xl font-bold text-white",children:s}),l&&(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:l})]})}var p=s(4964),y=s(2680);function g(){let[e,t]=(0,l.useState)([]),[s,h]=(0,l.useState)([]),[f,g]=(0,l.useState)([]),[j,w]=(0,l.useState)([]),b=(0,o.i)(n).map(e=>({label:"\uD83D\uDC68‍⚖️ ".concat(e),value:e})),v=(0,i.q)(n).map(e=>({label:"\uD83C\uDFDF️ ".concat(e),value:e})),N=(0,d.I)(n).map(e=>({label:"\uD83D\uDCC5 "+e,value:e})),D=(0,u.s)().map(e=>({label:e,value:e})),C=(0,m.J)(n,{referees:e,teams:s,seasons:f,homeAway:j});return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Dommarj\xe4vel"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(c.Z,{options:b,selected:e,onChange:t,label:"Domare"}),(0,a.jsx)(c.Z,{options:v,selected:s,onChange:h,label:"Lag"}),(0,a.jsx)(c.Z,{options:N,selected:f,onChange:g,label:"S\xe4song"}),(0,a.jsx)(c.Z,{options:D,selected:j,onChange:w,label:"Hemma/Borta"})]}),(0,a.jsx)(x,{filteredMatches:C,selectedTeams:s}),(0,a.jsx)(p.Z,{allMatches:C,selectedTeams:s}),(0,a.jsx)(r.U,{matches:C}),(0,a.jsx)(y.Z,{matches:C})]})}},2113:function(e,t,s){"use strict";function a(e,t){return e.filter(e=>{let s=0===t.referees.length||t.referees.includes(e.referee),a=0===t.seasons.length||t.seasons.includes(String(e.season)),l=0===t.teams.length||t.teams.includes(e.home)||t.teams.includes(e.away),n=0===t.homeAway.length||t.homeAway.includes("Hemma")&&e.is_home||t.homeAway.includes("Borta")&&!e.is_home;return s&&a&&l&&n})}s.d(t,{J:function(){return a}})},1525:function(e,t,s){"use strict";function a(e){return e.map(e=>e.referee).filter(Boolean).filter((e,t,s)=>s.indexOf(e)===t).sort((e,t)=>e.localeCompare(t,"sv"))}s.d(t,{i:function(){return a}})},7624:function(e,t,s){"use strict";function a(e){return[...new Set(e.map(e=>String(e.season)))].sort((e,t)=>t.localeCompare(e))}s.d(t,{I:function(){return a}})},7244:function(e,t,s){"use strict";function a(e){return[...new Set(e.flatMap(e=>[e.home,e.away]))].sort((e,t)=>e.localeCompare(t,"sv"))}s.d(t,{q:function(){return a}})},4147:function(e,t,s){"use strict";function a(){return["Hemma","Borta"]}s.d(t,{s:function(){return a}})}},function(e){e.O(0,[73,512,684,888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);